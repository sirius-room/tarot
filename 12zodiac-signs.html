<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ˜Ÿã®å·¡ç¤¼ï¼šè¥¿æ´‹å æ˜Ÿè¡“ãƒã‚¹ã‚¿ãƒ¼ã¸ã®é“</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Zen Maru Gothic', sans-serif;
            background-color: #020617; /* æ¼†é»’ã«è¿‘ã„é’ */
            color: #e2e8f0;
            overflow-x: hidden;
        }
        .star-bg {
            background-image: 
                radial-gradient(white, rgba(255,255,255,.2) 2px, transparent 3px),
                radial-gradient(white, rgba(255,255,255,.15) 1px, transparent 2px),
                radial-gradient(white, rgba(255,255,255,.1) 2px, transparent 3px);
            background-size: 550px 550px, 350px 350px, 250px 250px;
            background-position: 0 0, 40px 60px, 130px 270px;
        }
        .fade-in {
            animation: fadeIn 0.6s cubic-bezier(0.22, 1, 0.36, 1);
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .glow-text {
            text-shadow: 0 0 10px rgba(253, 224, 71, 0.5);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ ---
        
        const STORY_PHASES = [
            {
                id: 1,
                title: "ç¬¬1ç« ï¼šå€‹äººã®ç¢ºç«‹ï¼ˆç‰¡ç¾Šåº§ã€œä¹™å¥³åº§ï¼‰",
                desc: "é­‚ã®æ—…ã¯ã€Œç§ã€ã¨ã„ã†å­˜åœ¨ã®èª•ç”Ÿã‹ã‚‰å§‹ã¾ã‚Šã¾ã™ã€‚è‡ªå·±ã‚’çŸ¥ã‚Šã€æ„Ÿè¦šã‚’è‚²ã¦ã€èƒ½åŠ›ã‚’ç£¨ãã€‚ç¤¾ä¼šã«å‡ºã‚‹å‰ã®ã€ç´”ç²‹ãªå€‹äººã®æˆé•·ãƒ—ãƒ­ã‚»ã‚¹ã‚’è¿½ä½“é¨“ã—ã¾ã—ã‚‡ã†ã€‚",
                bg: "from-red-900 to-orange-900"
            },
            {
                id: 2,
                title: "ç¬¬2ç« ï¼šç¤¾ä¼šã¨é­‚ã®çµ±åˆï¼ˆå¤©ç§¤åº§ã€œé­šåº§ï¼‰",
                desc: "æˆé•·ã—ãŸå€‹äººã¯ã€ä»–è€…ã¨å‡ºä¼šã„ã€ç¤¾ä¼šã‚’ä½œã‚Šã€ã‚„ãŒã¦å®‡å®™ã¸ã¨é‚„ã£ã¦ã„ãã¾ã™ã€‚è‡ªåˆ†ã¨ä»–è€…ã€ãã—ã¦ä¸–ç•Œã¨ã®é–¢ã‚ã‚Šã®ä¸­ã§é­‚ãŒæˆç†Ÿã—ã¦ã„ãå¾ŒåŠã®ç‰©èªã§ã™ã€‚",
                bg: "from-indigo-900 to-purple-900"
            },
            {
                id: 3,
                title: "ç¬¬3ç« ï¼šæ˜Ÿã€…ã®æ³•å‰‡ï¼ˆæ”¯é…æ˜Ÿãƒ»åŒºåˆ†ï¼‰",
                desc: "12æ˜Ÿåº§ã®èƒŒæ™¯ã«ã‚ã‚‹ã€Œä»•çµ„ã¿ã€ã‚’ç†è§£ã™ã‚‹æ™‚ãŒæ¥ã¾ã—ãŸã€‚æ˜Ÿåº§ã‚’æ”¯é…ã™ã‚‹æƒ‘æ˜ŸãŸã¡ã€ãã—ã¦ã‚¨ãƒãƒ«ã‚®ãƒ¼ã®æ€§è³ªï¼ˆç«åœ°é¢¨æ°´ãƒ»æ´»å‹•å›ºå®šæŸ”è»Ÿï¼‰ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ã¾ã—ã‚‡ã†ã€‚",
                bg: "from-slate-900 to-black"
            }
        ];

        const QUIZ_DATA = [
            // --- ç¬¬1ç« ï¼šç‰¡ç¾Šåº§ã€œä¹™å¥³åº§ (Q1-8) ---
            {
                q: "12æ˜Ÿåº§ã®ç‰©èªã®å§‹ã¾ã‚Šã€ãƒˆãƒƒãƒ—ãƒãƒƒã‚¿ãƒ¼ã§ã‚ã‚‹ã€Œç‰¡ç¾Šåº§ã€ãŒæ‹…å½“ã™ã‚‹é­‚ã®æˆé•·æ®µéšã¯ï¼Ÿ",
                options: ["ç¤¾ä¼šçš„ãªæˆåŠŸ", "è‡ªå·±ã®ç¢ºç«‹ï¼ˆI amï¼‰", "ä»–è€…ã¨ã®èåˆ", "äº”æ„Ÿã®è‚²æˆ"],
                a: 1,
                exp: "æ­£è§£ã¯ã€Œè‡ªå·±ã®ç¢ºç«‹ï¼ˆI amï¼‰ã€ã§ã™ã€‚\nã‚ªã‚®ãƒ£ãƒ¼ã¨ç”Ÿã¾ã‚ŒãŸèµ¤ã¡ã‚ƒã‚“ã®æ®µéšã€‚ã€Œç§ã¯ã“ã“ã«ã„ã‚‹ï¼ã€ã¨å­˜åœ¨ã‚’ä¸»å¼µã—ã€ç´”ç²‹ãªç”Ÿå‘½åŠ›ã§ã‚¹ã‚¿ãƒ¼ãƒˆã‚’åˆ‡ã‚‹æ®µéšã§ã™ã€‚",
                icon: "â™ˆ"
            },
            {
                q: "ç‰¡ç¾Šåº§ã§ç”Ÿã¾ã‚ŒãŸå¾Œã€æ¬¡ã®ã€Œç‰¡ç‰›åº§ã€ã§ã¯ä½•ã‚’è‚²ã¦ã¾ã™ã‹ï¼Ÿ",
                options: ["ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³èƒ½åŠ›", "ç¤¾ä¼šçš„ãªåœ°ä½", "äº”æ„Ÿã¨è‚‰ä½“æ„Ÿè¦šï¼ˆI haveï¼‰", "æ·±ã„æ„Ÿæƒ…"],
                a: 2,
                exp: "æ­£è§£ã¯ã€Œäº”æ„Ÿã¨è‚‰ä½“æ„Ÿè¦šï¼ˆI haveï¼‰ã€ã§ã™ã€‚\nè‚‰ä½“ã‚’æŒã£ã¦ã“ã®ä¸–ã«ã‚ã‚‹å–œã³ï¼ˆç¾å‘³ã—ã„ã€å¿ƒåœ°ã‚ˆã„ãªã©ï¼‰ã‚’å‘³ã‚ã„ã€è‡ªåˆ†ã®æ„Ÿè¦šã‚„æ‰€æœ‰ã™ã‚‹ã‚‚ã®ã‚’ç¢ºã‹ã‚ã‚‹æ®µéšã§ã™ã€‚",
                icon: "â™‰"
            },
            {
                q: "ã€ŒåŒå­åº§ã€ã®æ®µéšã«ãªã‚‹ã¨ã€èˆˆå‘³ã®å¯¾è±¡ã¯ã©ã†å¤‰åŒ–ã—ã¾ã™ã‹ï¼Ÿ",
                options: ["èº«è¿‘ãªç¤¾ä¼šã¸ã®é€²å‡ºã¨æƒ…å ±åé›†", "æ·±ã„æƒ…å‹•ã¨ç§˜å¯†ã®å…±æœ‰", "ç„¡å„Ÿã®æ„›ã®å®Ÿè·µ", "ä¼çµ±ã®ç¶™æ‰¿"],
                a: 0,
                exp: "æ­£è§£ã¯ã€Œèº«è¿‘ãªç¤¾ä¼šã¸ã®é€²å‡ºã¨æƒ…å ±åé›†ã€ã§ã™ã€‚\nåˆç­‰æ•™è‚²ã®æ®µéšã«ä¾‹ãˆã‚‰ã‚Œã¾ã™ã€‚ã€Œã“ã‚Œä½•ï¼Ÿã€ã¨å•ã„ã‹ã‘ã€è¨€è‘‰ã‚’è¦šãˆã€å…„å¼Ÿã‚„è¿‘æ‰€ã®äººã¨ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ¥½ã—ã‚€æ™‚æœŸã§ã™ã€‚",
                icon: "â™Š"
            },
            {
                q: "ã€ŒèŸ¹åº§ã€ã¯æ°´ã®ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã§ã™ã€‚å¤–ã®ä¸–ç•Œã‚’çŸ¥ã£ãŸé­‚ãŒã€ã“ã®æ®µéšã§æœ€ã‚‚æ±‚ã‚ã‚‹ã‚‚ã®ã¯ï¼Ÿ",
                options: ["ã‚¹ãƒªãƒ«ã¨å†’é™º", "è«–ç†çš„ãªæ­£ã—ã•", "å®‰å¿ƒã§ãã‚‹å±…å ´æ‰€ãƒ»åœŸå°", "å€‹æ€§ã®çˆ†ç™º"],
                a: 2,
                exp: "æ­£è§£ã¯ã€Œå®‰å¿ƒã§ãã‚‹å±…å ´æ‰€ãƒ»åœŸå°ã€ã§ã™ã€‚\nå‚·ã¤ãã‚„ã™ã„å¿ƒã‚’å®ˆã‚‹ãŸã‚ã®ç”²ç¾…ï¼ˆå®¶ã‚„å®¶æ—ï¼‰ã‚’ä½œã‚Šã€å®‰å¿ƒã—ã¦å¸°ã‚Œã‚‹å ´æ‰€ã‚’ç¢ºä¿ã™ã‚‹æ®µéšã§ã™ã€‚",
                icon: "â™‹"
            },
            {
                q: "å®‰å¿ƒã§ãã‚‹å ´æ‰€ï¼ˆèŸ¹åº§ï¼‰ã‚’å¾—ãŸå¾Œã€æ¬¡ã®ã€Œç…å­åº§ã€ã§ã¯ã©ã®ã‚ˆã†ãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’èµ·ã“ã—ã¾ã™ã‹ï¼Ÿ",
                options: ["è‡ªåˆ†ã‚’ä¸»å¼µã—ã€å‰µé€ çš„ã«è¡¨ç¾ã™ã‚‹", "ä»–è€…ã«å¥‰ä»•ã™ã‚‹", "ç¤¾ä¼šã®ãƒ«ãƒ¼ãƒ«ã‚’ä½œã‚‹", "è¦‹ãˆãªã„ä¸–ç•Œã¨ç¹‹ãŒã‚‹"],
                a: 0,
                exp: "æ­£è§£ã¯ã€Œè‡ªåˆ†ã‚’ä¸»å¼µã—ã€è¡¨ç¾ã™ã‚‹ã€ã§ã™ã€‚\nå®‰å¿ƒã§ãã‚‹ãƒ›ãƒ¼ãƒ ã‹ã‚‰é£›ã³å‡ºã—ã€æ€æ˜¥æœŸã®ã‚ˆã†ã«ã€Œç§ã‚’è¦‹ã¦ï¼ã€ã¨è‡ªå·±è¡¨ç¾ã—ã€ãƒ‰ãƒ©ãƒãƒãƒƒã‚¯ã«äººç”Ÿã‚’æ¥½ã—ã‚€æ®µéšã§ã™ã€‚",
                icon: "â™Œ"
            },
            {
                q: "å€‹äººã®è‚²æˆã®æœ€çµ‚æ®µéšã§ã‚ã‚‹ã€Œä¹™å¥³åº§ã€ã€‚ã“ã“ã§ä½•ã‚’ã—ã¦ã€ç¤¾ä¼šãƒ‡ãƒ“ãƒ¥ãƒ¼ã«å‚™ãˆã¾ã™ã‹ï¼Ÿ",
                options: ["æ¨©åŠ›ã‚’æ‰‹ã«å…¥ã‚Œã‚‹", "è‡ªå·±åˆ†æã¨æ•´ç†ãƒ»èª¿æ•´", "ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã‚’è¦‹ã¤ã‘ã‚‹", "ä¼çµ±ã‚’ç ´å£Šã™ã‚‹"],
                a: 1,
                exp: "æ­£è§£ã¯ã€Œè‡ªå·±åˆ†æã¨æ•´ç†ãƒ»èª¿æ•´ã€ã§ã™ã€‚\nç…å­åº§ã§åºƒã’ãŸé¢¨å‘‚æ•·ã‚’ç•³ã¿ã€è‡ªåˆ†ã®èƒ½åŠ›ã‚’å†·é™ã«åˆ†æã€‚ç¤¾ä¼šã§å½¹ã«ç«‹ã¤å®Ÿå‹™èƒ½åŠ›ã‚’ç£¨ãã€èº«ã ã—ãªã¿ã‚’æ•´ãˆã‚‹ã€Œèª¿æ•´ã€ã®æ®µéšã§ã™ã€‚",
                icon: "â™"
            },
            
            // --- ç¬¬2ç« ï¼šå¤©ç§¤åº§ã€œé­šåº§ (Q7-14) ---
            {
                q: "ç¬¬2ç« ã®å§‹ã¾ã‚Šã€‚ã€Œå¤©ç§¤åº§ã€ã§ã®æœ€å¤§ã®ãƒ†ãƒ¼ãƒã¯ä½•ã§ã™ã‹ï¼Ÿ",
                options: ["ä¸€äººã§å±±ã«ç± ã‚‹", "æ„Ÿæƒ…ã‚’çˆ†ç™ºã•ã›ã‚‹", "ä»–è€…ï¼ˆãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ï¼‰ã‚’é€šã˜ã¦è‡ªåˆ†ã‚’çŸ¥ã‚‹", "è²¡ç”£ã‚’å¢—ã‚„ã™"],
                a: 2,
                exp: "æ­£è§£ã¯ã€Œä»–è€…ã‚’é€šã˜ã¦è‡ªåˆ†ã‚’çŸ¥ã‚‹ã€ã§ã™ã€‚\nã“ã“ã‹ã‚‰ç¤¾ä¼šãƒ‡ãƒ“ãƒ¥ãƒ¼ã€‚åˆã‚ã¦ã€Œå¯¾ç­‰ãªä»–è€…ã€ãŒç™»å ´ã—ã€ç›¸æ‰‹ã¨ã®ãƒãƒ©ãƒ³ã‚¹ã‚„èª¿å’Œã®ä¸­ã§è‡ªåˆ†è‡ªèº«ã‚’ç¢ºç«‹ã—ã¦ã„ãã¾ã™ã€‚",
                icon: "â™"
            },
            {
                q: "å¤©ç§¤åº§ã§åºƒãæµ…ãç¹‹ãŒã£ãŸå¾Œã€ã€Œè åº§ã€ã§ã¯ã©ã®ã‚ˆã†ãªé–¢ä¿‚æ€§ã‚’æ±‚ã‚ã¾ã™ã‹ï¼Ÿ",
                options: ["ç‰¹å®šã®ç›¸æ‰‹ã¨ã®æ·±ã„ä¸€ä½“åŒ–ã¨å¤‰å®¹", "å¤šãã®äººã¨å…¬å¹³ã«ä»˜ãåˆã†", "è‡ªç”±æ°—ã¾ã¾ãªä¸€äººæ—…", "è«–ç†çš„ãªè­°è«–"],
                a: 0,
                exp: "æ­£è§£ã¯ã€Œç‰¹å®šã®ç›¸æ‰‹ã¨ã®æ·±ã„ä¸€ä½“åŒ–ã¨å¤‰å®¹ã€ã§ã™ã€‚\nã€Œç‹­ãæ·±ãã€é–¢ã‚ã‚Šã€ç›¸æ‰‹ã¨æº¶ã‘åˆã†ã“ã¨ã§ã€ã‚µãƒŠã‚®ãŒè¶ã«ãªã‚‹ã‚ˆã†ã«ä»¥å‰ã®è‡ªåˆ†ã¨ã¯é•ã†è‡ªåˆ†ã¸ç”Ÿã¾ã‚Œå¤‰ã‚ã‚‹æ®µéšã§ã™ã€‚",
                icon: "â™"
            },
            {
                q: "è åº§ã§ã®æ·±ã„å¤‰å®¹ã‚’çµŒãŸå¾Œã€ã€Œå°„æ‰‹åº§ã€ã¯ã©ã“ã¸å‘ã‹ã„ã¾ã™ã‹ï¼Ÿ",
                options: ["å®¶åº­ã®ä¸­ã«å¼•ãã“ã‚‚ã‚‹", "æœªçŸ¥ã®ä¸–ç•Œã¸ã®å†’é™ºã¨æ¢ç©¶", "è©³ç´°ãªãƒ‡ãƒ¼ã‚¿åˆ†æ", "æ—¢å­˜ã®ãƒ«ãƒ¼ãƒ«ã‚’å®ˆã‚‹"],
                a: 1,
                exp: "æ­£è§£ã¯ã€ŒæœªçŸ¥ã®ä¸–ç•Œã¸ã®å†’é™ºã¨æ¢ç©¶ã€ã§ã™ã€‚\nåœ°ä¸Šã®ã—ãŒã‚‰ã¿ã‹ã‚‰è§£ãæ”¾ãŸã‚Œã€ã‚ˆã‚Šé«˜ã„çœŸç†ã‚„åºƒã„ä¸–ç•Œï¼ˆæµ·å¤–ãƒ»å“²å­¦ãƒ»å®—æ•™ï¼‰ã‚’æ±‚ã‚ã¦çŸ¢ã‚’æ”¾ã¤ã€è‡ªç”±ãªæ—…ã®æ®µéšã§ã™ã€‚",
                icon: "â™"
            },
            {
                q: "ã€Œå±±ç¾Šåº§ã€ã¯ç¤¾ä¼šçš„ãªå®Œæˆã®ã‚µã‚¤ãƒ³ã§ã™ã€‚ã“ã“ã§ã®ç›®æ¨™ã¯ï¼Ÿ",
                options: ["ç¤¾ä¼šã§ã®å½¹å‰²ã‚’æœãŸã—ã€çµæœã‚’å‡ºã™", "ç¤¾ä¼šã‚·ã‚¹ãƒ†ãƒ ã‚’ç ´å£Šã™ã‚‹", "è‡ªåˆ†ã®æ„Ÿæƒ…ã‚’å„ªå…ˆã™ã‚‹", "å¤¢ã®ä¸–ç•Œã§éŠã¶"],
                a: 0,
                exp: "æ­£è§£ã¯ã€Œç¤¾ä¼šã§ã®å½¹å‰²ã‚’æœãŸã—ã€çµæœã‚’å‡ºã™ã€ã§ã™ã€‚\nå°„æ‰‹åº§ã®ç†æƒ³ã‚’ç¾å®Ÿç¤¾ä¼šã§å½¢ã«ã—ã¾ã™ã€‚è²¬ä»»ã‚ã‚‹åœ°ä½ã«ã¤ã„ãŸã‚Šã€ç¤¾ä¼šçš„ãªæ§‹é€ ã‚’å®Œæˆã•ã›ã‚‹ã€Œé ‚ç‚¹ã€ã®æ®µéšã§ã™ã€‚",
                icon: "â™‘"
            },
            {
                q: "å±±ç¾Šåº§ã§å®Œæˆã•ã‚ŒãŸç¤¾ä¼šã«å¯¾ã—ã€ã€Œæ°´ç“¶åº§ã€ã¯ã©ã®ã‚ˆã†ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’å–ã‚Šã¾ã™ã‹ï¼Ÿ",
                options: ["ä¼çµ±ã‚’ã•ã‚‰ã«å¼·å›ºã«ã™ã‚‹", "æ„Ÿæƒ…çš„ã«å¯†ç€ã™ã‚‹", "ç¤¾ä¼šã‹ã‚‰é›¢ã‚Œã€å€‹ã¨ã—ã¦è‡ªç«‹ã—æ”¹é©ã™ã‚‹", "ç‰©è³ªçš„ãªè±Šã‹ã•ã‚’ç«¶ã†"],
                a: 2,
                exp: "æ­£è§£ã¯ã€Œç¤¾ä¼šã‹ã‚‰é›¢ã‚Œã€å€‹ã¨ã—ã¦è‡ªç«‹ã—æ”¹é©ã™ã‚‹ã€ã§ã™ã€‚\næ—¢å­˜ã®æ çµ„ã¿ã‚’ä¿¯ç°ã—ã€ã€Œã‚‚ã£ã¨è‰¯ãã§ãã‚‹ã€ã¨æ”¹é©ã‚’è¡Œã„ã¾ã™ã€‚çµ„ç¹”ã‚ˆã‚Šã‚‚å€‹ã®è‡ªç”±ã¨å¹³ç­‰ã€æ¨ªã®ç¹‹ãŒã‚Šã‚’é‡è¦–ã—ã¾ã™ã€‚",
                icon: "â™’"
            },
            {
                q: "12æ˜Ÿåº§ã®ãƒ©ã‚¹ãƒˆã€ã€Œé­šåº§ã€ã®å½¹å‰²ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                options: ["å…¨ã¦ã®ã‚µã‚¤ãƒ³ã‚’åŒ…æ‹¬ã—ã€æº¶è§£ã•ã›ã‚‹", "æ–°ã—ã„è‡ªæˆ‘ã‚’ç¢ºç«‹ã™ã‚‹", "å³æ ¼ãªãƒ«ãƒ¼ãƒ«ã‚’ä½œã‚‹", "ç‰©è³ªçš„ãªè¨¼æ‹ ã‚’é›†ã‚ã‚‹"],
                a: 0,
                exp: "æ­£è§£ã¯ã€Œå…¨ã¦ã®ã‚µã‚¤ãƒ³ã‚’åŒ…æ‹¬ã—ã€æº¶è§£ã•ã›ã‚‹ã€ã§ã™ã€‚\nã“ã‚Œã¾ã§ã®å…¨ã¦ã®æ®µéšã‚’çµ±åˆã—ã€å¢ƒç•Œç·šã‚’æº¶ã‹ã—ã¦ãƒ¯ãƒ³ãƒã‚¹ï¼ˆå®‡å®™ï¼‰ã¸ã¨é‚„ã£ã¦ã„ãã€æµ„åŒ–ã¨æ•‘æ¸ˆã®æ®µéšã§ã™ã€‚",
                icon: "â™“"
            },

            // --- ç¬¬3ç« ï¼šæ”¯é…æ˜Ÿãƒ»åŒºåˆ† (Q13-30) ---
            {
                q: "ã“ã“ã‹ã‚‰ã¯ã€Œæ”¯é…æ˜Ÿã€ã®å•é¡Œã€‚ã€Œè‡ªåˆ†ã‚‰ã—ã•ã€ã‚„ã€Œäººç”Ÿã®ç›®çš„ã€ã‚’è¡¨ã™å¤ªé™½ã‚’æ”¯é…æ˜Ÿã«æŒã¤æ˜Ÿåº§ã¯ï¼Ÿ",
                options: ["ç‰¡ç¾Šåº§", "ç…å­åº§", "å±±ç¾Šåº§", "èŸ¹åº§"],
                a: 1,
                exp: "æ­£è§£ã¯ã€Œç…å­åº§ã€ã§ã™ã€‚\nå¤ªé™½ã¯å¤ªé™½ç³»ã®ä¸­å¿ƒã§ã‚ã‚Šã€è‡ªã‚‰è¼ãæ’æ˜Ÿã€‚è‡ªå·±è¡¨ç¾ã¨å‰µé€ ã®ã‚µã‚¤ãƒ³ã§ã‚ã‚‹ç…å­åº§ã‚’æ”¯é…ã—ã¾ã™ã€‚",
                icon: "â˜€ï¸"
            },
            {
                q: "ã€Œæ„Ÿæƒ…ã€ã‚„ã€Œç„¡æ„è­˜ã€ã€ã€Œãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã€ã‚’è¡¨ã™æœˆã‚’æ”¯é…æ˜Ÿã«æŒã¤æ˜Ÿåº§ã¯ï¼Ÿ",
                options: ["èŸ¹åº§", "é­šåº§", "ä¹™å¥³åº§", "å¤©ç§¤åº§"],
                a: 0,
                exp: "æ­£è§£ã¯ã€ŒèŸ¹åº§ã€ã§ã™ã€‚\næœˆã¯æº€ã¡æ¬ ã‘ã—ã€ç§»ã‚ã„ã‚„ã™ã„æ„Ÿæƒ…ã‚„æ¯æ€§ã‚’è±¡å¾´ã—ã¾ã™ã€‚å®¶åº­ã‚„å¿ƒã®æ‹ ã‚Šæ‰€ã‚’å¤§åˆ‡ã«ã™ã‚‹èŸ¹åº§ã‚’æ”¯é…ã—ã¾ã™ã€‚",
                icon: "ğŸŒ™"
            },
            {
                q: "ã€ŒçŸ¥æ€§ãƒ»æƒ…å ±ã€ã®æ˜Ÿã€æ°´æ˜Ÿã¯2ã¤ã®æ˜Ÿåº§ã®æ”¯é…æ˜Ÿã§ã™ã€‚ãã‚Œã¯ã©ã‚Œã¨ã©ã‚Œï¼Ÿ",
                options: ["ç‰¡ç‰›åº§ã¨å¤©ç§¤åº§", "ç‰¡ç¾Šåº§ã¨è åº§", "åŒå­åº§ã¨ä¹™å¥³åº§", "å°„æ‰‹åº§ã¨é­šåº§"],
                a: 2,
                exp: "æ­£è§£ã¯ã€ŒåŒå­åº§ã¨ä¹™å¥³åº§ã€ã§ã™ã€‚\næƒ…å ±ã‚’é›†ã‚ã¦æ‹¡æ•£ã™ã‚‹ã€ŒåŒå­åº§ã€ã¨ã€æƒ…å ±ã‚’åˆ†æã—ã¦æ•´ç†ã™ã‚‹ã€Œä¹™å¥³åº§ã€ã€‚ã©ã¡ã‚‰ã‚‚ã€Œé ­è„³ï¼ˆæ°´æ˜Ÿï¼‰ã€ã‚’ä½¿ã„ã¾ã™ã€‚",
                icon: "â˜¿ï¸"
            },
            {
                q: "ã€Œæ„›ã¨ç¾ãƒ»é‡‘éŠ­ã€ã®æ˜Ÿã€é‡‘æ˜Ÿï¼ˆãƒ´ã‚£ãƒ¼ãƒŠã‚¹ï¼‰ãŒæ”¯é…ã™ã‚‹2ã¤ã®æ˜Ÿåº§ã¯ï¼Ÿ",
                options: ["ç‰¡ç‰›åº§ã¨å¤©ç§¤åº§", "åŒå­åº§ã¨æ°´ç“¶åº§", "èŸ¹åº§ã¨è åº§", "ç…å­åº§ã¨å°„æ‰‹åº§"],
                a: 0,
                exp: "æ­£è§£ã¯ã€Œç‰¡ç‰›åº§ã¨å¤©ç§¤åº§ã€ã§ã™ã€‚\näº”æ„Ÿã‚’é€šã˜ãŸå¿«æ¥½ã‚„ç‰©è³ªï¼ˆç‰¡ç‰›åº§ï¼‰ã¨ã€å¯¾äººé–¢ä¿‚ã®èª¿å’Œã‚„ç¾çš„ã‚»ãƒ³ã‚¹ï¼ˆå¤©ç§¤åº§ï¼‰ã‚’æ”¯é…ã—ã¾ã™ã€‚",
                icon: "â™€ï¸"
            },
            {
                q: "ã€Œè¡Œå‹•åŠ›ãƒ»æƒ…ç†±ã€ã®æ˜Ÿã€ç«æ˜Ÿã‚’æ”¯é…æ˜Ÿã«æŒã¤æ˜Ÿåº§ã¯ï¼Ÿ",
                options: ["ç‰¡ç¾Šåº§", "å°„æ‰‹åº§", "å±±ç¾Šåº§", "æ°´ç“¶åº§"],
                a: 0,
                exp: "æ­£è§£ã¯ã€Œç‰¡ç¾Šåº§ã€ã§ã™ã€‚\nç«æ˜Ÿã¯å¤–ã«é£›ã³å‡ºã™ã‚¨ãƒãƒ«ã‚®ãƒ¼ã€‚ã‚¹ã‚¿ãƒ¼ãƒˆãƒ€ãƒƒã‚·ãƒ¥ã‚’å¾—æ„ã¨ã™ã‚‹ç‰¡ç¾Šåº§ã‚’æ”¯é…ã—ã¾ã™ã€‚ï¼ˆå¤å…¸ã§ã¯è åº§ã‚‚æ”¯é…ã—ã¾ã™ï¼‰",
                icon: "â™‚ï¸"
            },
            {
                q: "ã€Œæ‹¡å¤§ãƒ»ç™ºå±•ã€ã®ãƒ©ãƒƒã‚­ãƒ¼ã‚¹ã‚¿ãƒ¼ã€æœ¨æ˜Ÿã‚’æ”¯é…æ˜Ÿã«æŒã¤æ˜Ÿåº§ã¯ï¼Ÿ",
                options: ["ä¹™å¥³åº§", "ç…å­åº§", "å°„æ‰‹åº§", "ç‰¡ç‰›åº§"],
                a: 2,
                exp: "æ­£è§£ã¯ã€Œå°„æ‰‹åº§ã€ã§ã™ã€‚\næœ¨æ˜Ÿã¯ç‰©äº‹ã‚’å¤§ããåºƒã’ã€è‚¯å®šã™ã‚‹ã‚¨ãƒãƒ«ã‚®ãƒ¼ã€‚åºƒã„ä¸–ç•Œã¸å†’é™ºã«å‡ºã‚‹å°„æ‰‹åº§ã‚’æ”¯é…ã—ã¾ã™ã€‚",
                icon: "â™ƒ"
            },
            {
                q: "ã€Œåˆ¶é™ãƒ»èª²é¡Œãƒ»å¿è€ã€ã®æ˜Ÿã€åœŸæ˜Ÿã‚’æ”¯é…æ˜Ÿã«æŒã¤æ˜Ÿåº§ã¯ï¼Ÿ",
                options: ["è åº§", "ç‰¡ç¾Šåº§", "åŒå­åº§", "å±±ç¾Šåº§"],
                a: 3,
                exp: "æ­£è§£ã¯ã€Œå±±ç¾Šåº§ã€ã§ã™ã€‚\nåœŸæ˜Ÿã¯æ™‚é–“ã‚’ã‹ã‘ã¦å½¢ã«ã™ã‚‹åŠ›ã‚„è²¬ä»»ã‚’è±¡å¾´ã€‚ç¤¾ä¼šã®é ‚ç‚¹ã‚’ç›®æŒ‡ã—ã¦åŠªåŠ›ã™ã‚‹å±±ç¾Šåº§ã‚’æ”¯é…ã—ã¾ã™ã€‚",
                icon: "ğŸª"
            },
            {
                q: "ã€Œé©å‘½ãƒ»å¤‰é©ã€ã®æ˜Ÿã€å¤©ç‹æ˜Ÿã‚’æ”¯é…æ˜Ÿã«æŒã¤æ˜Ÿåº§ã¯ï¼Ÿ",
                options: ["æ°´ç“¶åº§", "é­šåº§", "å±±ç¾Šåº§", "å¤©ç§¤åº§"],
                a: 0,
                exp: "æ­£è§£ã¯ã€Œæ°´ç“¶åº§ã€ã§ã™ã€‚\nå¤©ç‹æ˜Ÿã¯æ—¢å­˜ã®æ ã‚’å£Šã—ã€æ–°ã—ã„æœªæ¥ã‚’åˆ‡ã‚Šé–‹ãæ˜Ÿã€‚å€‹æ€§çš„ã§è‡ªç”±ã‚’æ„›ã™ã‚‹æ°´ç“¶åº§ã‚’æ”¯é…ã—ã¾ã™ã€‚",
                icon: "â™…"
            },
            {
                q: "ã€Œå¤¢ãƒ»å¹»æƒ³ãƒ»æº¶è§£ã€ã®æ˜Ÿã€æµ·ç‹æ˜Ÿã‚’æ”¯é…æ˜Ÿã«æŒã¤æ˜Ÿåº§ã¯ï¼Ÿ",
                options: ["èŸ¹åº§", "æ°´ç“¶åº§", "é­šåº§", "è åº§"],
                a: 2,
                exp: "æ­£è§£ã¯ã€Œé­šåº§ã€ã§ã™ã€‚\næµ·ç‹æ˜Ÿã¯éœ§ã®ã‚ˆã†ã«è¼ªéƒ­ã‚’æ›–æ˜§ã«ã™ã‚‹ã‚¨ãƒãƒ«ã‚®ãƒ¼ã€‚ç›®ã«è¦‹ãˆãªã„ä¸–ç•Œã‚„èŠ¸è¡“ã€ç™’ã—ã‚’å¸ã‚‹é­šåº§ã‚’æ”¯é…ã—ã¾ã™ã€‚",
                icon: "â™†"
            },
            {
                q: "ã€Œç ´å£Šã¨å†ç”Ÿãƒ»æ¥µé™ã€ã®æ˜Ÿã€å†¥ç‹æ˜Ÿã‚’æ”¯é…æ˜Ÿã«æŒã¤æ˜Ÿåº§ã¯ï¼Ÿ",
                options: ["ä¹™å¥³åº§", "è åº§", "ç…å­åº§", "å°„æ‰‹åº§"],
                a: 1,
                exp: "æ­£è§£ã¯ã€Œè åº§ã€ã§ã™ã€‚\nå†¥ç‹æ˜Ÿã¯ã€Œ0ã‹100ã‹ã€ã®å¼·åŠ›ãªã‚¨ãƒãƒ«ã‚®ãƒ¼ã€‚æ·±ã„çµ†ã‚’é€šã˜ã¦è‡ªæˆ‘ã‚’æ ¹åº•ã‹ã‚‰ç”Ÿã¾ã‚Œå¤‰ã‚ã‚‰ã›ã‚‹è åº§ã‚’æ”¯é…ã—ã¾ã™ã€‚",
                icon: "â™‡"
            },
            {
                q: "ã“ã“ã‹ã‚‰ã¯åŒºåˆ†ã®å•é¡Œã€‚ã€ŒæŸ”è»Ÿå®®ã€ã§ã‚ã‚Šã€ã€Œé¢¨ï¼ˆçŸ¥æ€§ï¼‰ã€ã®ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã§ã‚ã‚‹æ˜Ÿåº§ã¯ï¼Ÿ",
                options: ["å¤©ç§¤åº§", "æ°´ç“¶åº§", "é­šåº§", "åŒå­åº§"],
                a: 3,
                exp: "æ­£è§£ã¯ã€ŒåŒå­åº§ã€ã§ã™ã€‚\né¢¨ã®ã‚ˆã†ã«æƒ…å ±ã‚’æ‰±ã„ã€æŸ”è»Ÿã«çŠ¶æ³ã«åˆã‚ã›ã¦å¤‰åŒ–ã™ã‚‹ã€Œæƒ…å ±ã®ãƒ¡ãƒƒã‚»ãƒ³ã‚¸ãƒ£ãƒ¼ã€ã§ã™ã€‚",
                icon: "ğŸŒ¬ï¸"
            },
            {
                q: "ã€Œå›ºå®šå®®ã€ã§ã‚ã‚Šã€ã€Œç«ï¼ˆæƒ…ç†±ï¼‰ã€ã®ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã§ã‚ã‚‹æ˜Ÿåº§ã¯ï¼Ÿ",
                options: ["ç…å­åº§", "ç‰¡ç¾Šåº§", "å°„æ‰‹åº§", "ç‰¡ç‰›åº§"],
                a: 0,
                exp: "æ­£è§£ã¯ã€Œç…å­åº§ã€ã§ã™ã€‚\næƒ…ç†±ã®ç«ã‚’çµ¶ã‚„ã•ãšã€ãã®å ´ã«ç•™ã¾ã£ã¦è¼ãç¶šã‘ã‚‹ä¸å‹•ã®ç‹è€…ã€‚ã‚­ãƒ£ãƒ³ãƒ—ãƒ•ã‚¡ã‚¤ãƒ¤ãƒ¼ã®ä¸­å¿ƒã®ã‚ˆã†ãªå­˜åœ¨ã§ã™ã€‚",
                icon: "ğŸ”¥"
            },
            {
                q: "ã€Œæ´»å‹•å®®ã€ã§ã‚ã‚Šã€ã€Œæ°´ï¼ˆæ„Ÿæƒ…ï¼‰ã€ã®ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã§ã‚ã‚‹æ˜Ÿåº§ã¯ï¼Ÿ",
                options: ["è åº§", "é­šåº§", "èŸ¹åº§", "å±±ç¾Šåº§"],
                a: 2,
                exp: "æ­£è§£ã¯ã€ŒèŸ¹åº§ã€ã§ã™ã€‚\næ„Ÿæƒ…ï¼ˆæ°´ï¼‰ã‚’åŸå‹•åŠ›ã«ã—ã¦ã€å¤§åˆ‡ãªäººã‚’å®ˆã‚‹ãŸã‚ã«ç©æ¥µçš„ã«å‹•ãï¼ˆæ´»å‹•ï¼‰ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ã‚’æŒã¡ã¾ã™ã€‚",
                icon: "ğŸ’§"
            },
            {
                q: "ã€Œæ´»å‹•å®®ã€ã§ã‚ã‚Šã€ã€ŒåœŸï¼ˆç¾å®Ÿï¼‰ã€ã®ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã§ã‚ã‚‹æ˜Ÿåº§ã¯ï¼Ÿ",
                options: ["å±±ç¾Šåº§", "ç‰¡ç‰›åº§", "ä¹™å¥³åº§", "å¤©ç§¤åº§"],
                a: 0,
                exp: "æ­£è§£ã¯ã€Œå±±ç¾Šåº§ã€ã§ã™ã€‚\nç¾å®Ÿï¼ˆåœŸï¼‰ã®ä¸­ã§ã€å…·ä½“çš„ãªç›®æ¨™ã«å‘ã‹ã£ã¦ç€å®Ÿã«è¨ˆç”»ã‚’é€²ã‚ã¦ã„ãï¼ˆæ´»å‹•ï¼‰ç¤¾ä¼šã®å»ºè¨­è€…ã§ã™ã€‚",
                icon: "ğŸ”ï¸"
            },
            {
                q: "ã€Œç”·æ€§å®®ï¼ˆé™½ï¼‰ã€ã«å«ã¾ã‚Œã‚‹ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã®çµ„ã¿åˆã‚ã›ã¯ï¼Ÿ",
                options: ["ç«ã¨é¢¨", "åœ°ã¨æ°´", "ç«ã¨åœ°", "é¢¨ã¨æ°´"],
                a: 0,
                exp: "æ­£è§£ã¯ã€Œç«ã¨é¢¨ã€ã§ã™ã€‚\nç«ï¼ˆç²¾ç¥ï¼‰ã¨é¢¨ï¼ˆçŸ¥æ€§ï¼‰ã¯ã€å¤–ã«å‘ã‹ã£ã¦æ‹¡æ•£ãƒ»ç™ºä¿¡ã™ã‚‹ã€Œèƒ½å‹•çš„ã€ãªæ€§è³ªã‚’æŒã¤ãŸã‚ã€ç”·æ€§å®®ã«åˆ†é¡ã•ã‚Œã¾ã™ã€‚",
                icon: "âš¡"
            },
            {
                q: "ã€Œå¥³æ€§å®®ï¼ˆé™°ï¼‰ã€ã«å«ã¾ã‚Œã‚‹ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã®çµ„ã¿åˆã‚ã›ã¯ï¼Ÿ",
                options: ["ç«ã¨é¢¨", "åœ°ã¨æ°´", "ç«ã¨åœ°", "é¢¨ã¨æ°´"],
                a: 1,
                exp: "æ­£è§£ã¯ã€Œåœ°ã¨æ°´ã€ã§ã™ã€‚\nåœ°ï¼ˆç‰©è³ªï¼‰ã¨æ°´ï¼ˆæ„Ÿæƒ…ï¼‰ã¯ã€å†…ã«å‘ã‹ã£ã¦å—å®¹ãƒ»è“„ç©ã™ã‚‹ã€Œå—å‹•çš„ã€ãªæ€§è³ªã‚’æŒã¤ãŸã‚ã€å¥³æ€§å®®ã«åˆ†é¡ã•ã‚Œã¾ã™ã€‚",
                icon: "ğŸŒ±"
            },
            {
                q: "æœ€å¾Œã®å•é¡Œã€‚12æ˜Ÿåº§ã®ã‚µã‚¤ã‚¯ãƒ«ã‚’ä¸€é€šã‚ŠçµŒé¨“ã™ã‚‹ã“ã¨ï¼ˆç‰¡ç¾Šåº§ã‹ã‚‰é­šåº§ã¾ã§ï¼‰ã¯ä½•ã‚’æ„å‘³ã—ã¾ã™ã‹ï¼Ÿ",
                options: ["å˜ãªã‚‹å­£ç¯€ã®ç§»ã‚Šå¤‰ã‚ã‚Š", "é‹ã®è‰¯ã—æ‚ªã—ã®ã‚µã‚¤ã‚¯ãƒ«", "é­‚ã®æˆé•·ã¨çµ±åˆã®ãƒ—ãƒ­ã‚»ã‚¹", "æ€§æ ¼è¨ºæ–­ã®ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ†ã‘"],
                a: 2,
                exp: "æ­£è§£ã¯ã€Œé­‚ã®æˆé•·ã¨çµ±åˆã®ãƒ—ãƒ­ã‚»ã‚¹ã€ã§ã™ã€‚\nå€‹ã®èª•ç”Ÿã‹ã‚‰å§‹ã¾ã‚Šã€ç¤¾ä¼šã‚’ä½œã‚Šã€å®‡å®™ã¸é‚„ã‚‹ã€‚12æ˜Ÿåº§ã¯ãƒãƒ©ãƒãƒ©ãªæ€§æ ¼åˆ†é¡ã§ã¯ãªãã€ã²ã¨ã¤ã®å£®å¤§ãªé­‚ã®æ—…è·¯ãªã®ã§ã™ã€‚",
                icon: "âœ¨"
            }
        ];

        // --- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ ---

        const App = () => {
            const [gameState, setGameState] = useState('intro');
            const [currentQIndex, setCurrentQIndex] = useState(0);
            const [score, setScore] = useState(0);
            const [showExp, setShowExp] = useState(false);
            const [lastAnswerCorrect, setLastAnswerCorrect] = useState(false);
            const [chapter, setChapter] = useState(0);
            const [showChapterCover, setShowChapterCover] = useState(false);

            const startQuiz = () => {
                setGameState('game');
                setChapter(0);
                setShowChapterCover(true);
            };

            const handleAnswer = (choiceIndex) => {
                const isCorrect = choiceIndex === QUIZ_DATA[currentQIndex].a;
                if (isCorrect) setScore(score + 1);
                setLastAnswerCorrect(isCorrect);
                setShowExp(true);
            };

            const nextQuestion = () => {
                setShowExp(false);
                const nextIdx = currentQIndex + 1;
                
                // ç« ã®åˆ‡ã‚Šæ›¿ãˆ (Q7ã‹ã‚‰2ç« ã€Q13ã‹ã‚‰3ç«  â€»é…åˆ—ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹6, 12)
                if (nextIdx === 6) { // Q7ã®æ‰‹å‰
                    setChapter(1);
                    setShowChapterCover(true);
                } else if (nextIdx === 12) { // Q13ã®æ‰‹å‰
                    setChapter(2);
                    setShowChapterCover(true);
                }

                if (nextIdx < QUIZ_DATA.length) {
                    setCurrentQIndex(nextIdx);
                } else {
                    setGameState('result');
                }
            };

            const closeChapterCover = () => {
                setShowChapterCover(false);
            };

            const progress = ((currentQIndex) / QUIZ_DATA.length) * 100;

            return (
                <div className="min-h-screen flex flex-col items-center justify-center p-4 star-bg relative text-slate-100">
                    
                    {/* èƒŒæ™¯è£…é£¾ï¼šæƒ‘æ˜Ÿã®ã‚ˆã†ãªã‚ªãƒ¼ãƒ– */}
                    <div className="fixed inset-0 pointer-events-none opacity-30 z-0 flex justify-center items-center">
                         <div className="w-[400px] h-[400px] rounded-full bg-gradient-to-tr from-purple-800 via-transparent to-blue-800 blur-3xl animate-pulse"></div>
                    </div>

                    <div className="z-10 w-full max-w-2xl">
                        {gameState === 'intro' && (
                            <IntroScreen onStart={startQuiz} />
                        )}

                        {gameState === 'game' && (
                            showChapterCover ? (
                                <ChapterCover phase={STORY_PHASES[chapter]} onNext={closeChapterCover} />
                            ) : (
                                <QuizCard 
                                    data={QUIZ_DATA[currentQIndex]} 
                                    onAnswer={handleAnswer}
                                    showExp={showExp}
                                    isCorrect={lastAnswerCorrect}
                                    onNext={nextQuestion}
                                    progress={progress}
                                    qNum={currentQIndex + 1}
                                />
                            )
                        )}

                        {gameState === 'result' && (
                            <ResultScreen score={score} total={QUIZ_DATA.length} onRetry={() => window.location.reload()} />
                        )}
                    </div>
                </div>
            );
        };

        const IntroScreen = ({ onStart }) => (
            <div className="bg-slate-900/80 p-8 rounded-2xl shadow-2xl border border-yellow-500/30 text-center fade-in backdrop-blur-sm">
                <div className="text-6xl mb-4">ğŸŒŒ</div>
                <h1 className="text-3xl md:text-4xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-yellow-200 via-yellow-400 to-amber-500 glow-text">
                    æ˜Ÿã®å·¡ç¤¼<br/>
                    <span className="text-2xl md:text-3xl">è¥¿æ´‹å æ˜Ÿè¡“ãƒã‚¹ã‚¿ãƒ¼ã¸ã®é“</span>
                </h1>
                <p className="text-lg mb-8 leading-relaxed text-blue-100">
                    12æ˜Ÿåº§ã¯ã€ãƒãƒ©ãƒãƒ©ã«å­˜åœ¨ã™ã‚‹ã‚‚ã®ã§ã¯ãªãã€<br/>
                    ã²ã¨ã¤ã®é­‚ãŒæˆé•·ã—ã¦ã„ãã€Œç‰©èªã€ã§ã™ã€‚<br/><br/>
                    ç‰¡ç¾Šåº§ã®ç”£å£°ã‹ã‚‰é­šåº§ã®çµ±åˆã¾ã§ã€‚<br/>
                    æ˜Ÿã€…ã®ç†ï¼ˆã“ã¨ã‚ã‚Šï¼‰ã‚’å·¡ã‚‹æ—…ã«å‡ºã¾ã—ã‚‡ã†ã€‚
                </p>
                <div className="space-y-4 mb-8 text-left bg-black/40 p-6 rounded-xl text-blue-100 border border-white/10">
                    <p>âœ¨ <b>ç¬¬1ç« :</b> å€‹äººã®è‚²æˆï¼ˆç‰¡ç¾Šåº§ã€œä¹™å¥³åº§ï¼‰</p>
                    <p>ğŸ¤ <b>ç¬¬2ç« :</b> ç¤¾ä¼šã¨ã®çµ±åˆï¼ˆå¤©ç§¤åº§ã€œé­šåº§ï¼‰</p>
                    <p>ğŸª <b>ç¬¬3ç« :</b> æ˜Ÿã®æ³•å‰‡ï¼ˆæ”¯é…æ˜Ÿãƒ»åŒºåˆ†ï¼‰</p>
                </div>
                <button 
                    onClick={onStart}
                    className="bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white font-bold py-4 px-12 rounded-full text-xl shadow-[0_0_20px_rgba(99,102,241,0.5)] transform transition hover:scale-105"
                >
                    å·¡ç¤¼ã‚’å§‹ã‚ã‚‹
                </button>
            </div>
        );

        const ChapterCover = ({ phase, onNext }) => (
            <div className={`fixed inset-0 z-50 flex flex-col items-center justify-center p-8 bg-gradient-to-b ${phase.bg} text-white fade-in`}>
                <div className="text-8xl mb-6 opacity-80">ğŸ“–</div>
                <h2 className="text-3xl font-bold mb-6 border-b-2 border-white/30 pb-4 text-center">{phase.title}</h2>
                <p className="text-xl mb-12 max-w-xl text-center leading-loose font-medium text-white/90">{phase.desc}</p>
                <button 
                    onClick={onNext}
                    className="bg-white/20 hover:bg-white/30 border border-white/50 text-white font-bold py-3 px-10 rounded-full backdrop-blur-md transition shadow-lg hover:shadow-xl"
                >
                    æ¬¡ã¸é€²ã‚€
                </button>
            </div>
        );

        const QuizCard = ({ data, onAnswer, showExp, isCorrect, onNext, progress, qNum }) => (
            <div className="w-full">
                {/* ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ */}
                <div className="w-full bg-slate-800 h-2 rounded-full mb-6 border border-slate-700">
                    <div className="bg-gradient-to-r from-yellow-400 to-amber-600 h-2 rounded-full transition-all duration-500 box-shadow-glow" style={{ width: `${progress}%`, boxShadow: '0 0 10px #fbbf24' }}></div>
                </div>

                <div className="bg-slate-900/90 p-6 md:p-8 rounded-2xl shadow-2xl border border-indigo-500/30 relative overflow-hidden fade-in min-h-[450px] flex flex-col justify-between backdrop-blur-md">
                    
                    {!showExp && (
                        <>
                            <div>
                                <div className="text-indigo-300 text-sm mb-2 font-bold tracking-widest flex justify-between">
                                    <span>QUESTION {qNum} / 29</span>
                                    <span>è¥¿æ´‹å æ˜Ÿè¡“åŸºç¤</span>
                                </div>
                                <h3 className="text-xl md:text-2xl font-bold mb-8 leading-relaxed text-white">{data.q}</h3>
                            </div>
                            <div className="grid gap-3">
                                {data.options.map((opt, i) => (
                                    <button 
                                        key={i}
                                        onClick={() => onAnswer(i)}
                                        className="w-full text-left p-4 rounded-xl bg-slate-800/80 hover:bg-indigo-900/80 border border-slate-600 hover:border-indigo-400 transition-all active:scale-98 flex items-center group"
                                    >
                                        <span className="bg-slate-950 w-8 h-8 rounded-full flex items-center justify-center mr-4 text-sm font-bold shrink-0 text-indigo-300 group-hover:text-white group-hover:bg-indigo-600 transition-colors">{i + 1}</span>
                                        <span className="text-lg">{opt}</span>
                                    </button>
                                ))}
                            </div>
                        </>
                    )}

                    {showExp && (
                        <div className="fade-in h-full flex flex-col">
                            <div className="flex items-center mb-6 border-b border-white/10 pb-4">
                                <div className={`text-5xl mr-4 ${isCorrect ? 'animate-bounce' : 'animate-shake'}`}>
                                    {isCorrect ? 'ğŸŒŸ' : 'ğŸ’«'}
                                </div>
                                <div>
                                    <div className={`text-2xl font-bold ${isCorrect ? 'text-yellow-400' : 'text-red-400'}`}>
                                        {isCorrect ? 'Excellentï¼' : 'æƒœã—ã„ï¼'}
                                    </div>
                                    <div className="text-sm text-slate-400">
                                        {isCorrect ? 'æ˜Ÿã®çŸ¥è­˜ãŒè¼ã„ã¦ã„ã¾ã™' : 'è§£èª¬ã‚’èª­ã‚“ã§çŸ¥è­˜ã‚’æ·±ã‚ã¾ã—ã‚‡ã†'}
                                    </div>
                                </div>
                            </div>
                            
                            <div className="bg-indigo-950/50 p-6 rounded-xl border border-indigo-500/30 mb-6 flex-grow overflow-y-auto">
                                <div className="text-6xl mb-4 text-center animate-pulse">{data.icon}</div>
                                <p className="text-lg leading-loose whitespace-pre-wrap text-indigo-50">{data.exp}</p>
                            </div>

                            <button 
                                onClick={onNext}
                                className="w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 text-white font-bold py-4 rounded-xl shadow-lg transition transform active:scale-95"
                            >
                                æ¬¡ã¸é€²ã‚€
                            </button>
                        </div>
                    )}
                </div>
            </div>
        );

        const ResultScreen = ({ score, total, onRetry }) => {
            let title = "";
            let msg = "";
            let badgeColor = "";

            if (score === total) {
                title = "ğŸ‘‘ å®‡å®™ã®çœŸç†ã‚’çŸ¥ã‚‹è€…";
                msg = "å®Œç’§ã§ã™ï¼ã‚ãªãŸã¯12æ˜Ÿåº§ã®ç‰©èªã€æƒ‘æ˜Ÿã®é…ç½®ã€ãã—ã¦ã‚¨ãƒãƒ«ã‚®ãƒ¼ã®æ³•å‰‡ã‚’å®Œå…¨ã«ç†è§£ã—ã¾ã—ãŸã€‚ã‚ãªãŸã®è¨€è‘‰ã¯æ˜Ÿã€…ã®ã‚ˆã†ã«äººã€…ã‚’å°ãã§ã—ã‚‡ã†ã€‚";
                badgeColor = "text-yellow-400";
            } else if (score >= total * 0.8) {
                title = "ğŸ§™ æ˜Ÿèª­ã¿ã®ãƒã‚¹ã‚¿ãƒ¼";
                msg = "ç´ æ™´ã‚‰ã—ã„æˆç¸¾ã§ã™ï¼ãƒ›ãƒ­ã‚¹ã‚³ãƒ¼ãƒ—ã®åŸºæœ¬çš„ãªæ§‹é€ ã¯ã‚‚ã†ã‚ãªãŸã®é ­ã®ä¸­ã«ã‚ã‚Šã¾ã™ã€‚å®Ÿè·µçš„ãªãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã«ã‚‚æŒ‘æˆ¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚";
                badgeColor = "text-purple-300";
            } else if (score >= total * 0.5) {
                title = "ğŸ”­ æ˜Ÿç©ºã®æ¢æ±‚è€…";
                msg = "åŠåˆ†ä»¥ä¸Šæ­£è§£ã—ã¾ã—ãŸï¼12æ˜Ÿåº§ã®ç‰©èªã®æµã‚Œã¯æ´ã‚ã¦ã„ã¾ã™ã€‚æ”¯é…æ˜Ÿã‚„åŒºåˆ†ã‚’å¾©ç¿’ã™ã‚Œã°ã€ã•ã‚‰ã«æ·±ãæ˜ŸãŒèª­ã‚ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚";
                badgeColor = "text-blue-300";
            } else {
                title = "ğŸŒ  æ—…ç«‹ã¡ã®å·¡ç¤¼è€…";
                msg = "æ˜Ÿã®æ—…ã¯ã¾ã å§‹ã¾ã£ãŸã°ã‹ã‚Šã§ã™ã€‚ã“ã®ã‚¯ã‚¤ã‚ºã®è§£èª¬ã‚’èª­ã¿è¿”ã™ã ã‘ã§ã‚‚ã€å æ˜Ÿè¡“ã®åŸºç¤åŠ›ã¯ã‚°ãƒ³ã¨ä¸ŠãŒã‚Šã¾ã™ã‚ˆï¼";
                badgeColor = "text-slate-300";
            }

            return (
                <div className="bg-slate-900/90 p-10 rounded-2xl shadow-2xl border border-yellow-500/30 text-center fade-in backdrop-blur-md">
                    <h2 className="text-2xl font-bold mb-4 text-indigo-200">æ—…ã®è¨˜éŒ²</h2>
                    <div className="text-7xl font-bold mb-6 text-white glow-text">{score} <span className="text-2xl text-slate-400">/ {total}</span></div>
                    
                    <div className={`text-3xl font-bold mb-6 ${badgeColor} glow-text`}>{title}</div>
                    <p className="text-lg mb-10 leading-relaxed text-slate-200">{msg}</p>
                    
                    <button 
                        onClick={onRetry}
                        className="bg-transparent border-2 border-yellow-500/50 hover:border-yellow-400 text-yellow-100 hover:text-white font-bold py-3 px-8 rounded-full transition shadow-[0_0_15px_rgba(234,179,8,0.2)] hover:shadow-[0_0_25px_rgba(234,179,8,0.4)]"
                    >
                        ã‚‚ã†ä¸€åº¦ æ˜Ÿã‚’å·¡ã‚‹
                    </button>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>